function contactFinalRecaptchaCallback(){rasben.ContactModal.prototype._checkCaptcha("final")}function contactTldrRecaptchaCallback(){rasben.ContactModal.prototype._checkCaptcha("tldr")}window.rasben={},$(document).ready(function(){rasben.Nav=function(t){this.element=$(t.element),this._attach()},rasben.Nav.prototype={_attach:function(){var t=this.element.find(".js-nav-controller");this.parent=this.element,this.inner=this.element.find(".js-nav-inner"),t.on("click",this.toggle.bind(this))},toggle:function(){$(this.inner).toggleClass("is-open")}},$(".js-nav").each(function(){new rasben.Nav({element:this})}),rasben.Scroll=function(t){this.element=$(t.element),this._attach()},rasben.Scroll.prototype={_attach:function(){$(this.element).hasClass("js-scroll-down")?this.element.on("click",this.scrollDown.bind(this)):$(this.element).hasClass("js-scroll-up")&&this.element.on("click",this.scrollUp.bind(this))},scrollDown:function(t){this.nextPage=$(this.element).parent().next(".js-page"),$("html, body").animate({scrollTop:$(this.nextPage).offset().top},400)},scrollUp:function(t){this.nextPage=$(this.element).parent().parent().first(".js-page"),$("html, body").animate({scrollTop:$(this.nextPage).offset().top},400)}},$(".js-scroll").each(function(){new rasben.Scroll({element:this})}),rasben.Timeline=function(t,e){this.element=$(t.element),this._attach()},rasben.Timeline.prototype={_attach:function(){this.rocket=this.element.find(".js-timeline-rocket"),this.list=this.element.find(".js-timeline-items"),this.items=this.list.find(".js-timeline-item.has-content"),this.isPlaying=!1,0==this.isPlaying&&$(window).on("DOMContentLoaded load resize scroll",this.checkVisibiltyTrigger.bind(this))},checkVisibiltyTrigger:function(t){0==this.isPlaying&&1==this._checkVisibilty(this.list)&&this.startRocket()},_checkVisibilty:function(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},startRocket:function(){this.isPlaying=!0,$(this.element).addClass("is-playing"),this._rocketReactions()},_rocketReactions:function(){var t=this.rocket,e=0,i=this.items,s=setInterval(function(){$(t).offset().left>=$(i[e]).offset().left+0&&($(i[e]).addClass("is-active"),$(i[e-1]).removeClass("is-active"),e++),e>5&&clearInterval(s)},300);setTimeout(function(){clearInterval(s)},6e4)}},$(".js-timeline").each(function(){new rasben.Timeline({element:this})}),rasben.Tldr=function(t){this.element=$(t.element),this._attach()},rasben.Tldr.prototype={_attach:function(){this.keys=[],this.keyCode="84,76,68,82",this.tldr=$(this.element).find(".js-tldr"),this.tldrVisible=!1,this.element.find(".js-tldr-show").on("click",this._tldrToggle.bind(this)),window.addEventListener&&$(window).on("keydown",this.checkForTldr.bind(this))},checkForTldr:function(t){this.keys.push(t.keyCode),this.keys.toString().indexOf(this.keyCode)>=0&&(this._tldrToggle(),this.keys=[])},_tldrToggle:function(){var t=this;0==this.tldrVisible&&this.tldr.length?($(this.element).addClass("is-tldr-anim"),$("html, body").animate({scrollTop:$(this.tldr).offset().top},700),setTimeout(function(){$(t.element).toggleClass("is-tldr-anim is-tldr")},650),this.tldrVisible=!0):1==this.tldrVisible&&this.tldr.length&&($(this.element).toggleClass("is-tldr-anim is-tldr"),$("html, body").animate({scrollTop:$(this.tldr).offset().top},1),$("html, body").animate({scrollTop:$(this.element).offset().top},700),setTimeout(function(){$(t.element).removeClass("is-tldr-anim")},650),this.tldrVisible=!1)}},$(".js-tldr").each(function(){new rasben.Tldr({element:this})}),rasben.Extra=function(t){this.element=$(t.element),this._attach()},rasben.Extra.prototype={_attach:function(){if($(this.element).hasClass("js-extra-overlay")){var t=this;setTimeout(function(){var e=t.element.find(".js-page-header").innerHeight(),i=t.element.find(".js-page-body"),s=i.outerHeight();i.css({height:s,top:e})},400)}var e=this.element.find(".js-extra-controller");this.parent=this.element,this.wrapper=this.element.find(".js-extra-wrapper"),this.body=this.element.find(".js-extra-body"),this.height=this.body.outerHeight(),e.on("click",this.toggle.bind(this))},toggle:function(){this.parent.hasClass("is-open")?this._close(this.parent):this._open(this.parent)},_open:function(t){this.wrapper.animate({height:this.height+"px"},400,function(){$(t).addClass("is-open"),$(this).css({height:""})})},_close:function(t){this.wrapper.css("height",this.height+"px"),this.wrapper.animate({height:"0px"},300,function(){$(t).removeClass("is-open"),$(this).css({height:""})})}},$(".js-extra").each(function(){new rasben.Extra({element:this})}),rasben.ContactModal=function(t){this.element=$(t.element),this._attach()},rasben.ContactModal.prototype={_attach:function(){this.modalBody=this.element.find(".js-contact-modal-body"),this.placeholder=this.element.find(".js-contact-modal-placeholder"),this.element.find(".js-contact-modal-show").on("click",this.show.bind(this)),this.element.find(".js-contact-modal-hide").on("click",this.hide.bind(this))},show:function(t){this._showCaptcha(),t.preventDefault(),$(this.modalBody).addClass("is-anim"),$(this.modalBody).addClass("is-active");var e=this;setTimeout(function(){$(e.modalBody).removeClass("is-anim")},800)},hide:function(t){t.preventDefault(),$(this.modalBody).addClass("is-anim"),$(this.modalBody).removeClass("is-active");var e=this;setTimeout(function(){$(e.modalBody).removeClass("is-anim")},800)},_showCaptcha:function(){if(!$(this.element).hasClass("is-completed")){if($(this.element).hasClass("js-final"))var t="final";else if($(this.element).hasClass("js-tldr"))var t="tldr";var e=this;$.ajax({url:"script/captcha/captcha-markup-"+t+".html",context:document.body,success:function(t){$(e.placeholder).html(t)}})}},_checkCaptcha:function(t){$.ajax({type:"POST",url:"script/captcha/",data:$("."+t+" .js-contact-captcha").serialize(),success:function(e){var i=JSON.parse(e);i.success===!0&&rasben.ContactModal.prototype._showForm(i.address,i.phone,i.email,t)}})},_showForm:function(t,e,i,s){$.ajax({url:"script/captcha/card-markup.html",context:document.body,success:function(s){$(".js-contact-modal-placeholder").html(s),$(".js-contact-address").html(t),$(".js-contact-phone").html(e),$(".js-contact-email").html(i),$(".js-contact-modal").addClass("is-completed")}})}},$(".js-contact-modal").each(function(){new rasben.ContactModal({element:this})}),rasben.Gallery=function(t){this.element=$(t.element),this._attach()},rasben.Gallery.prototype={_attach:function(){this.itemsContainer=this.element.find(".js-gallery-items"),this.items=this.element.find(".js-gallery-item"),this.length=this.items.length,this.position=0,this.width=this._getWidth(),this.max=this._getMax(this.length),this.controllerLeft=this.element.find(".js-gallery-left"),this.controllerRight=this.element.find(".js-gallery-right"),this.controllerLeft.on("click",this.moveLeft.bind(this)),this.controllerRight.on("click",this.moveRight.bind(this)),$(window).on("resize",this._recheck.bind(this))},_getWidth:function(){$(this.itemsContainer).hide();var t=$(this.items).width();return $(this.itemsContainer).show(),t},_getMax:function(){var t=1*Math.round((this.length-100/this.width)/1);return t},_recheck:function(){this.max=this._getMax(),this.width=this._getWidth(),this.position>this.max&&(this.position=this.max),$(this.itemsContainer).css("margin-left","-"+this.position*this.width+"%")},moveLeft:function(t){t.preventDefault(),this.position<=0||(this.position=this.position-1,$(this.itemsContainer).css("margin-left","-"+this.position*this.width+"%"))},moveRight:function(t){t.preventDefault(),this.position>=this.max||(this.position++,$(this.itemsContainer).css("margin-left","-"+this.position*this.width+"%"))}},$(".js-gallery").each(function(){new rasben.Gallery({element:this})})});